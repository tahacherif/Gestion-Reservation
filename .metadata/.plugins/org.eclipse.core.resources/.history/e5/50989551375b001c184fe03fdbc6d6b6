package DAO;
import java.sql.*;

public class SConnection {
	private static Connection cnx;
	private static String url = "jdbc:mysql://localhost:3306/gestion_reservasion";
	private static String user ="root";
	private static String motPasse ="";
	
	public static Connection getInstance()
	{   
	try {
	if(cnx==null || cnx.isClosed()) {
	  //Vérifier le chargement en mémoire du pilote JDBC
	  Class.forName("com.mysql.jdbc.Driver");
	  //Etablir la connexion

	  cnx=DriverManager.getConnection(url,user,motPasse);
	  System.out.println("Connexion à la base de données ");
	  }
	}
	catch (ClassNotFoundException e) { 
	System.out.println("Classe Driver introuvable");
	}
	catch (SQLException e) {
	System.out.println("L'établissement de la connexion a échoué.");
	}
	return cnx;
	}
	
	static void close()  {
		try {
		if(cnx!=null && !cnx.isClosed())
			cnx.close();
		}catch(SQLException e) {
			e.printStackTrace();
		}
	}
}
